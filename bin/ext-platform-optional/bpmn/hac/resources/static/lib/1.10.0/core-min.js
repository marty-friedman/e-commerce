var sap;function namespace(sNamespace,fnCallback){if(!sNamespace||sNamespace.length===0){return this}var i,aNamespaces=sNamespace.split("."),oCurrentNamespace=this,sCurrentNamespace;for(i=0;i<aNamespaces.length;i++){sCurrentNamespace=aNamespaces[i];if(oCurrentNamespace[sCurrentNamespace]){oCurrentNamespace=oCurrentNamespace[sCurrentNamespace]}else{oCurrentNamespace=oCurrentNamespace[sCurrentNamespace]={}}}if(fnCallback){fnCallback(oCurrentNamespace)}return oCurrentNamespace}sap=namespace("sap");namespace("sap.galilei");sap.galilei.version="1.10.0";
namespace("sap.galilei.core");
(function(){namespace("sap.galilei.core.internal");sap.galilei.core.internal.PROPERTY_SUPER_CLASS="_super";sap.galilei.core.internal.PROPERTY_FULL_CLASSNAME="__fullClassName__";sap.galilei.core.internal.FIELDNAME_PREFIX="_"}());
(function(){sap.galilei.core.EnumPropertyType={property:"property",collection:"collection",bitwiseEnum:"bitwiseEnum",DEFAULT:"property"};sap.galilei.core.extendString=function(){if(!String.prototype.trimLeft){String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"")}}if(!String.prototype.trimRight){String.prototype.trimRight=function(){return this.replace(/\s+$/g,"")}}if(typeof String.prototype.startsWith!="function"){String.prototype.startsWith=function(sString){var result=false,i,l=sString&&sString.length;if(this.length>=l){for(i=l-1;(i>=0)&&(this[i]===sString[i]);--i){continue}result=i<0}return result}}if(typeof String.prototype.endsWith!="function"){String.prototype.endsWith=function(sString){return sString.length>0&&this.substring(this.length-sString.length,this.length)===sString}}};sap.galilei.core.extendString();sap.galilei.core.extend=function(object,oExtension,bSkipValidation){if(object&&oExtension){var prototype,sProperty,sMemberName;if(object.prototype){prototype=object.prototype}else{prototype=object}for(sProperty in oExtension){sMemberName=bSkipValidation?sProperty:sap.galilei.core.validateMemberName(sProperty);sap.galilei.core.defineProperty(prototype,sMemberName,oExtension[sProperty],true)}}return object};sap.galilei.core.extendStatic=function(object,oExtension){if(object&&oExtension){var sProperty,sMemberName;for(sProperty in oExtension){sMemberName=sap.galilei.core.validateMemberName(sProperty);sap.galilei.core.defineProperty(object,sMemberName,oExtension[sProperty],true)}}return object};sap.galilei.core.validateMemberName=function(sName,bProperty){var sNewName=sName;if(sName&&sName.length>0){if(bProperty===undefined){bProperty=false}sNewName=sNewName.trimLeft();sNewName=sNewName.trimRight();sNewName=sNewName.replace(/[ |&.,;:\[\]%'"<>()+\-]/g,"_");if(bProperty){sNewName=sNewName.replace(/_+/g,"_");sNewName=sNewName.replace(/_+$/g,"")}}return sNewName};sap.galilei.core.internal.defineClass=function(oClassDef){oClassDef=oClassDef||{};var _super=oClassDef.parent,constructor=oClassDef.initialize,methods=oClassDef.methods,statics=oClassDef.statics;if(_super){constructor.prototype=Object.create(_super.prototype)}constructor.prototype.constructor=constructor;if(methods){sap.galilei.core.extend(constructor,methods)}if(statics){sap.galilei.core.extendStatic(constructor,statics)}return constructor};sap.galilei.core.defineProperty=function(object,sProperty,vValue,bDetectDescriptor){if(object&&object.constructor&&sProperty){if(bDetectDescriptor==undefined){bDetectDescriptor=false}if(bDetectDescriptor&&vValue&&sap.galilei.core.isPropertyDescriptor(vValue)){Object.defineProperty(object,sProperty,vValue)}else{object[sProperty]=vValue}}return object};sap.galilei.core.hasProperty=function(object,sProperty){if(object&&sProperty){return object.hasOwnProperty(sProperty)||sap.galilei.core.hasDefaultProperty(object,sProperty)}return false};sap.galilei.core.hasDefaultProperty=function(object,sProperty){if(object&&sProperty){if(!object.prototype){object=object.constructor}if(object.prototype){if(object.prototype.hasOwnProperty(sProperty)){return true}if(object.prototype[sap.galilei.core.internal.PROPERTY_SUPER_CLASS]){return sap.galilei.core.hasDefaultProperty(object.prototype[sap.galilei.core.internal.PROPERTY_SUPER_CLASS],sProperty)}}}return false};sap.galilei.core.getDefaultPropertyValue=function(object,sProperty){if(object&&sProperty){if(!object.prototype){object=object.constructor}if(object.prototype){if(object.prototype.hasOwnProperty(sProperty)){return sap.galilei.core.getPropertyValue(object,object.prototype[sProperty])}if(object.prototype[sap.galilei.core.internal.PROPERTY_SUPER_CLASS]){return sap.galilei.core.getDefaultPropertyValue(object.prototype[sap.galilei.core.internal.PROPERTY_SUPER_CLASS],sProperty)}}}return undefined};sap.galilei.core.tryCatchFinally=function(fnTry,fnCatch,fnFinally,oContext,oParams){if(fnTry){try{fnTry.call(oContext,oParams)}catch(e){if(fnCatch){fnCatch.call(oContext,e,oParams)}}finally{if(fnFinally){fnFinally.call(oContext,oParams)}}}};sap.galilei.core._trySetProperty=function(oParams){var oObject,sProperty;if(oParams){oObject=oParams.object;sProperty=oParams.property;if(oObject&&sProperty){oObject[sProperty]=oParams.value}}};sap.galilei.core.setProperty=function(object,sProperty,vValue){var oProperties,sProp,oParams,aKeys,index,max;if(object&&sProperty){oParams={object:object};if(typeof sProperty==="string"){oParams.property=sProperty;oParams.value=vValue;sap.galilei.core.tryCatchFinally(sap.galilei.core._trySetProperty,undefined,undefined,this,oParams)}else{if(sProperty instanceof Object){oProperties=sProperty;aKeys=Object.keys(oProperties);for(index=0,max=aKeys.length;index<max;index++){sProp=aKeys[index];if(object.hasProperty(sProp)){oParams.property=sProp;oParams.value=oProperties[sProp];sap.galilei.core.tryCatchFinally(sap.galilei.core._trySetProperty,undefined,undefined,this,oParams)}}}}}return object};sap.galilei.core.copyProperties=function(oObjectTarget,oObjectSource,bForceCopy){var sProperty,oParams;if(oObjectTarget&&oObjectSource){oParams={object:oObjectTarget};for(sProperty in oObjectSource){if(bForceCopy||oObjectSource.hasOwnProperty(sProperty)){oParams.property=sProperty;oParams.value=oObjectSource[sProperty];sap.galilei.core.tryCatchFinally(sap.galilei.core._trySetProperty,undefined,undefined,this,oParams)}}}};sap.galilei.core.getPropertyValue=function(object,vValue){if(object&&vValue){if(sap.galilei.core.isPropertyDescriptor(vValue)){if(vValue.hasOwnProperty("value")){vValue=vValue.value}else{if(vValue.hasOwnProperty("get")){vValue=vValue.get}}}if((typeof vValue)==="function"){vValue=vValue.call(object)}}return vValue};sap.galilei.core.getPropertyDescriptor=function(object,sProperty){var vProp,vProp2;if(object&&sProperty){vProp=object[sProperty];if(Object.getOwnPropertyDescriptor){vProp2=Object.getOwnPropertyDescriptor(object,sProperty);if(vProp2){if(vProp2.value&&sap.galilei.core.isPropertyDescriptor(vProp2.value)){vProp=vProp2.value}else{if(sap.galilei.core.isPropertyDescriptor(vProp2)){vProp=vProp2}}}}}return vProp};sap.galilei.core.isPropertyDescriptor=function(vValue){if(vValue&&(vValue.constructor.prototype===Object.prototype)){var sProp,bHasProp=false;for(sProp in vValue){if(sProp!=="type"&&sProp!=="field"&&sProp!=="value"&&sProp!=="expression"&&sProp!=="setDefaultWhenAccess"&&sProp!=="onChange"&&sProp!=="get"&&sProp!=="set"&&sProp!=="writable"&&sProp!=="enumerable"&&sProp!=="configurable"&&sProp!=="mutable"){return false}bHasProp=true}return bHasProp}return false};sap.galilei.core.getClassName=function(obj){var sClassName,aNames;if(obj){sClassName=obj[sap.galilei.core.internal.PROPERTY_FULL_CLASSNAME];if(sClassName){return sClassName}if(obj&&!obj.prototype){obj=obj.constructor}if(obj&&obj.prototype){sClassName=obj.prototype[sap.galilei.core.internal.PROPERTY_FULL_CLASSNAME];if(sClassName&&obj.prototype.hasOwnProperty(sap.galilei.core.internal.PROPERTY_FULL_CLASSNAME)){return sClassName}if(obj.prototype.constructor&&obj.prototype.constructor.toString){aNames=obj.prototype.constructor.toString().match(/function\s+(\w+)/);if(aNames&&aNames.length===2){return aNames[1]}}}return"Object"}return undefined};sap.galilei.core.isInstanceOf=function(obj,sClassName){if(obj&&sClassName){var sClass=sap.galilei.core.getClassName(obj),oParent;if(sClass&&sClass===sClassName){return true}oParent=obj._super;while(oParent){sClass=sap.galilei.core.getClassName(oParent);if(sClass&&sClass===sClassName){return true}oParent=oParent.prototype._super}}return false};sap.galilei.core.getObjectSize=function(obj){var size=0,key;for(key in obj){if(obj.hasOwnProperty(key)){size++}}return size};sap.galilei.core.getObjectPropertyNames=function(obj){var key,aNames=[];for(key in obj){if(obj.hasOwnProperty(key)){aNames.push(key)}}return aNames};sap.galilei.core.hasObjects=function(obj){var key;for(key in obj){if(obj.hasOwnProperty(key)){return true}}return false};sap.galilei.core.CallbackSequence=function(){var next=0;return{invoke:function(rank,fnCallback){this[rank]=fnCallback;while(this[next]){this[next]();delete this[next];next++}},getInvoker:function(rank){var self=this;return function(callback){self.invoke(rank,callback)}}}};sap.galilei.core.hasQualifiedProperty=function(oInstance,sPath){var bHasProperty=false,aTokens,nTokenIndex,nTokenMax,sCurrentToken,oCurrentInstance=oInstance;if(oInstance&&sPath){if(sPath&&sPath.length>0&&(sPath[0]==="."||sPath[0]==="/")){sPath=sPath.substring(1)}if(sPath.indexOf(".")===-1&&sPath.indexOf("/")===-1){bHasProperty=sap.galilei.core.hasProperty(oInstance,sPath)}else{if(sPath.indexOf(".")!==-1){aTokens=sPath.split(".")}else{aTokens=sPath.split("/")}bHasProperty=true;for(nTokenIndex=0,nTokenMax=aTokens.length-1;nTokenIndex<nTokenMax;nTokenIndex++){sCurrentToken=aTokens[nTokenIndex];if(!sap.galilei.core.hasProperty(oCurrentInstance,sCurrentToken)){bHasProperty=false;break}oCurrentInstance=oCurrentInstance[sCurrentToken];if(oCurrentInstance===undefined){bHasProperty=false;break}}}}return bHasProperty};sap.galilei.core.getValueFromQualifiedPath=function(oInstance,sPath){var vResult,aTokens,nTokenIndex,nTokenMax,sCurrentToken,oCurrentInstance=oInstance;if(oInstance&&sPath){if(sPath&&sPath.length>0&&(sPath[0]==="."||sPath[0]==="/")){sPath=sPath.substring(1)}if(sPath.indexOf(".")===-1&&sPath.indexOf("/")===-1){if(sap.galilei.core.hasProperty(oInstance,sPath)){vResult=oInstance[sPath]}}else{if(sPath.indexOf(".")!==-1){aTokens=sPath.split(".")}else{aTokens=sPath.split("/")}for(nTokenIndex=0,nTokenMax=aTokens.length-1;nTokenIndex<nTokenMax;nTokenIndex++){sCurrentToken=aTokens[nTokenIndex];oCurrentInstance=oCurrentInstance[sCurrentToken];if(oCurrentInstance===undefined){break}}vResult=oCurrentInstance&&oCurrentInstance[aTokens[aTokens.length-1]]}}return vResult};sap.galilei.core.move=function(aArray,nNewIndex,nOldIndex){if(nNewIndex>=aArray.length){var k=nNewIndex-aArray.length;while((k--)+1){aArray.push(undefined)}}aArray.splice(nNewIndex,0,aArray.splice(nOldIndex,1)[0])};sap.galilei.core.compareVersions=function(sVersion1,sVersion2){var nIndex,nResult=0,aVersion1Tokens,aVersion2Tokens,nVersion1TokensLength,nVersion2TokensLength,nMinLength;if(sVersion1!=sVersion2){aVersion1Tokens=sVersion1.split(".");aVersion2Tokens=sVersion2.split(".");nVersion1TokensLength=aVersion1Tokens.length;nVersion2TokensLength=aVersion2Tokens.length;nMinLength=Math.min(nVersion1TokensLength,nVersion2TokensLength);for(nIndex=0;nIndex<nMinLength;nIndex++){if(aVersion1Tokens[nIndex]<aVersion2Tokens[nIndex]){nResult=-1;break}else{if(aVersion1Tokens[nIndex]>aVersion2Tokens[nIndex]){nResult=1;break}}}if(nResult===0&&nVersion1TokensLength!==nVersion2TokensLength){nResult=(nVersion1TokensLength>nVersion2TokensLength?1:-1)}}return nResult};function emptyFunction(){}if(!window){window={}}if(!window.console){var aFuncNames=["log","info","warn","error","trace","assert"],index;window.console={};for(index=0;index<=aFuncNames.length;index++){window.console[aFuncNames[index]]=emptyFunction}}}());
(function(){sap.galilei.core.ClassDefinitionBuilder={onInitializeResource:function onInitializeResource(){},onInitializeClass:function onInitializeClass(){},getReverseReference:function getReverseReference(oInstance,sDirectReferenceQualifiedName){},getObjectId:function getObjectId(oInstance){},transformClassDef:function transformClassDef(oClassDef){if(!oClassDef){return undefined}function validateClassDef(oClassDef){var sMember;if(oClassDef){for(sMember in oClassDef){if(oClassDef.hasOwnProperty(sMember)){switch(sMember){case"parent":break;case"fullClassName":break;case"initialize":break;case"onPropertyChange":break;case"fields":break;case"properties":break;case"methods":break;case"statics":break;default:throw"The class definition property '"+sMember+"' is unknown."}}}}return true}validateClassDef(oClassDef);var _super=oClassDef.parent,sFullClassName=oClassDef.fullClassName,fnInitialize=oClassDef.initialize,fnOnPropertyChange=oClassDef.onPropertyChange,fields=oClassDef.fields,properties=oClassDef.properties,methods=oClassDef.methods,statics=oClassDef.statics,OConstructor,bIsBaseClass,self=this,sProperty,sFieldName,vFieldValue,aNames;fields=fields||{};properties=properties||{};methods=methods||{};statics=statics||{};if(!_super){_super=sap.galilei.core.DefaultClass}methods[sap.galilei.core.internal.PROPERTY_SUPER_CLASS]=_super;bIsBaseClass=sap.galilei.core.isInstanceOf(_super,"sap.galilei.core.DefaultClass");if(!sFullClassName&&fnInitialize&&fnInitialize.toString){aNames=fnInitialize.toString().match(/function\s+(\w+)/);if(aNames&&aNames.length===2){sFullClassName=aNames[1]}}methods[sap.galilei.core.internal.PROPERTY_FULL_CLASSNAME]=sFullClassName;if(!fnInitialize){if(_super&&_super.constructor){OConstructor=function(){self.onInitializeClass(this);if(this._preInitialize){this._preInitialize.apply(this,arguments)}if(_super.apply){_super.apply(this,arguments)}if(this._initializeFields){this._initializeFields.apply(this,arguments)}if(this._postInitialize){this._postInitialize.apply(this,arguments)}}}else{OConstructor=function(){if(this._preInitialize){this._preInitialize.apply(this,arguments)}if(this._initializeFields){this._initializeFields.apply(this,arguments)}if(this._postInitialize){this._postInitialize.apply(this,arguments)}}}}else{OConstructor=function(){if(this._preInitialize){this._preInitialize.apply(this,arguments)}fnInitialize.apply(this,arguments);if(this._initializeFields){this._initializeFields.apply(this,arguments)}if(this._postInitialize){this._postInitialize.apply(this,arguments)}}}this.transformProperties(methods,properties,fields);if(fnOnPropertyChange&&(typeof fnOnPropertyChange)==="function"){methods.onpropertychange=fnOnPropertyChange}if(sap.galilei.core.hasObjects(fields)){for(sProperty in fields){sFieldName=sap.galilei.core.validateMemberName(sProperty);vFieldValue=fields[sProperty];methods[sFieldName]=vFieldValue}}if(!bIsBaseClass){if(!methods.hasOwnProperty("get")){methods.get=function(sProperty){if(sProperty){if(isNaN(sProperty)){var vProperty=this[sProperty];if((typeof vProperty)==="function"){vProperty=vProperty.apply(this,arguments)}return vProperty}return this[sProperty]}return undefined}}if(!methods.hasOwnProperty("set")){methods.set=function(sProperty,vValue){if(sProperty){sap.galilei.core.setProperty(this,sProperty,vValue)}return this}}if(!methods.hasOwnProperty("getDefault")){methods.getDefault=function(sProperty){if(sProperty){return sap.galilei.core.getDefaultPropertyValue(this,sProperty)}return undefined}}if(!methods.hasOwnProperty("unset")){methods.unset=function(sProperty){if(sProperty){if(this.hasOwnProperty(sProperty)&&this.hasDefault(sProperty)){this.set(sProperty,this.getDefault(sProperty))}}return this}}if(!methods.hasOwnProperty("hasProperty")){methods.hasProperty=function(sProperty){if(sProperty){return sap.galilei.core.hasProperty(this,sProperty)}return false}}if(!methods.hasOwnProperty("hasDefault")){methods.hasDefault=function(sProperty){if(sProperty){return sap.galilei.core.hasDefaultProperty(this,sProperty)}return false}}}if(!statics.create){statics.create=function(oParam){if(OConstructor){return new OConstructor(oParam)}return undefined}}if(!sap.galilei.core.hasObjects(fields)){fields=undefined}if(!sap.galilei.core.hasObjects(properties)){properties=undefined}if(!sap.galilei.core.hasObjects(statics)){statics=undefined}oClassDef.parent=_super;oClassDef.fullClassName=sFullClassName;oClassDef.initialize=OConstructor;oClassDef.fields=fields;oClassDef.properties=properties;oClassDef.methods=methods;oClassDef.statics=statics;return oClassDef},transformProperties:function transformProperties(oExtension,oProperties,fields){oExtension=oExtension||{};if(oProperties){var sProperty,sPropName,vProperty,oEnumProps={},oCollProps={},oFuncProps={},oValeProps={};if(sap.galilei.core.hasObjects(oProperties)){for(sProperty in oProperties){vProperty=oProperties[sProperty];sPropName=sap.galilei.core.validateMemberName(sProperty,true);if(vProperty===undefined||(vProperty instanceof Array)||((typeof vProperty)!=="object"&&(typeof vProperty)!=="function")){vProperty={type:sap.galilei.core.EnumPropertyType.property,value:vProperty}}if(vProperty.type===sap.galilei.core.EnumPropertyType.bitwiseEnum){oEnumProps[sPropName]=vProperty}else{if(vProperty.type===sap.galilei.core.EnumPropertyType.collection){oCollProps[sPropName]=vProperty}else{if((typeof vProperty)==="function"){oFuncProps[sPropName]=vProperty}else{if(sap.galilei.core.isPropertyDescriptor(vProperty)){oValeProps[sPropName]=vProperty}else{throw"Unknown property type "+vProperty.type+" ("+sProperty+": "+vProperty+")."}}}}}if(sap.galilei.core.hasObjects(oEnumProps)){this.transformEnumProperties(oExtension,oEnumProps)}if(sap.galilei.core.hasObjects(oCollProps)){this.transformCollectionProperties(oExtension,oCollProps)}if(sap.galilei.core.hasObjects(oFuncProps)){this.transformFunctionProperties(oExtension,oFuncProps)}if(sap.galilei.core.hasObjects(oValeProps)){this.transformValueProperties(oExtension,oValeProps,fields)}else{if(sap.galilei.core.hasObjects(fields)){this.transformValueProperties(oExtension,{},fields)}}}else{if(sap.galilei.core.hasObjects(fields)){this.transformValueProperties(oExtension,{},fields)}}}return oExtension},transformFunctionProperties:function transformFunctionProperties(oExtension,oFuncProps){oExtension=oExtension||{};if(oFuncProps){var sProperty,oFunc,sFuncPropName,oProp;for(sProperty in oFuncProps){oFunc=oFuncProps[sProperty];if(oFunc!==undefined&&(typeof oFunc)==="function"){sFuncPropName=sap.galilei.core.validateMemberName(sProperty);oProp={get:oFunc,enumerable:true,configurable:oExtension.configurable===false?false:true};oExtension[sFuncPropName]=oProp}}}return oExtension},transformFieldProperties:function transformFieldProperties(oExtension,oProps){oExtension=oExtension||{};if(oProps){var sFieldName,vValue;for(sFieldName in oProps){vValue=oProps[sFieldName];oExtension[sFieldName]=vValue}}return oExtension},transformValueProperties:function transformValueProperties(oExtension,oProps,fields){oExtension=oExtension||{};if(oProps){var sProperty,vProperty,sPropName,sFieldName,bEnumerable,bWritable,bConfigurable,bMutable,sValue,sExpression,bSetDefaultWhenAccess,fnOnChange,bUseInitExpression,bUseField,bInitFields,sMutableCheck="",sInitExpression,oProp,sFunc,getterFunc,setterFunc,sInitFields="",fnInitFieldsFunc;for(sProperty in oProps){vProperty=oProps[sProperty];if(vProperty){if(vProperty.type===undefined||vProperty.type===sap.galilei.core.EnumPropertyType.property){sPropName=sap.galilei.core.validateMemberName(sProperty,true);bEnumerable=vProperty.enumerable;bWritable=vProperty.writable;bConfigurable=vProperty.configurable===false?false:true;bMutable=vProperty.mutable;sFieldName=vProperty.field;sValue=vProperty.value;sExpression=vProperty.expression;bSetDefaultWhenAccess=vProperty.setDefaultWhenAccess;fnOnChange=vProperty.onChange;if(bEnumerable===undefined){bEnumerable=true}if(bWritable===undefined){bWritable=true}if(bMutable===undefined){bMutable=true}if(bSetDefaultWhenAccess===undefined){bSetDefaultWhenAccess=true}bUseField=!vProperty.hasOwnProperty("get")&&!vProperty.hasOwnProperty("set");bUseInitExpression=(sExpression&&sExpression.length>0)&&bSetDefaultWhenAccess&&bUseField;bInitFields=(sExpression&&sExpression.length>0)&&!bSetDefaultWhenAccess&&bUseField;if(bUseField){if(!sFieldName){sFieldName=sap.galilei.core.getFieldNameOfProperty(sPropName)}}if(sFieldName&&sFieldName.length>0&&!oExtension.hasOwnProperty(sFieldName)){oProp={};oProp[sFieldName]=sValue;this.transformFieldProperties(oExtension,oProp)}oProp={};oProp.enumerable=bEnumerable;oProp.configurable=bConfigurable;if(bUseField){sInitExpression="";if(bUseInitExpression){sInitExpression="if (this."+sFieldName+" === undefined) { this."+sFieldName+" = "+sExpression+";} "}else{if(bInitFields){sInitFields+="this."+sFieldName+" = "+sExpression+"; "}}if(fnOnChange&&(typeof fnOnChange)==="function"){oExtension["onchange_"+sPropName]=fnOnChange}sFunc="getterFunc = function () { "+sInitExpression+"return this."+sFieldName+"; };";if(bWritable){if(!bMutable){sMutableCheck="if (oldValue !== undefined) { throw \"The property '"+sPropName+"' is not mutable. You cannot change its value after it is initialized.\";} "}sFunc+="setterFunc = function (value) { try { var oldValue = this."+sFieldName+"; if (oldValue !== value) { "+sMutableCheck+"this."+sFieldName+' = value; if (this["onchange_'+sPropName+'"]) {     this.onchange_'+sPropName+'(value, oldValue); } if (this.onchange) {     this.onchange("'+sPropName+'", value, oldValue); } } } catch(e) { }; };'}try{eval(sFunc)}catch(e){throw"The property "+sPropName+" has generated invalid getter or setter function. Please verify the property name and the expression."}if(getterFunc){oProp.get=getterFunc;if(bWritable&&setterFunc){oProp.set=setterFunc}}getterFunc=setterFunc=undefined}if(vProperty.hasOwnProperty("get")){oProp.get=vProperty.get}if(vProperty.hasOwnProperty("set")){oProp.set=vProperty.set}oExtension[sPropName]=oProp}}}if(sap.galilei.core.hasObjects(fields)){for(sProperty in fields){sFieldName=sap.galilei.core.validateMemberName(sProperty);sExpression=fields[sProperty];if((sap.galilei.core.isInstanceOf(sExpression,"Array")||sap.galilei.core.isInstanceOf(sExpression,"Object"))&&!sap.galilei.core.isPropertyDescriptor(sExpression)){sExpression=JSON.stringify(sExpression);sInitFields+="this."+sFieldName+" = "+sExpression+"; "}}}if(sInitFields&&sInitFields.length>0){sFunc="fnInitFieldsFunc = function () { "+sInitFields+"};";try{eval(sFunc)}catch(e2){throw"Cannot generate the _initializeFields() function. "+sFunc}if(fnInitFieldsFunc){oExtension._initializeFields=fnInitFieldsFunc}}}return oExtension},transformCollectionDef:function transformCollectionDef(oCollectionDef){oCollectionDef=oCollectionDef||{};var oCollClassDef={},_super=oCollectionDef.parent,fullClassName=oCollectionDef.fullClassName,objectClass=oCollectionDef.objectClass,comparator=oCollectionDef.comparator,fields=oCollectionDef.fields,properties=oCollectionDef.properties,methods=oCollectionDef.methods,statics=oCollectionDef.statics,bIsBaseCollection=false;fields=fields||{};properties=properties||{};methods=methods||{};statics=statics||{};if(!_super||!sap.galilei.core.isInstanceOf(_super,"Array")){_super=sap.galilei.core.DefaultCollectionClass}bIsBaseCollection=sap.galilei.core.isInstanceOf(_super,"sap.galilei.core.DefaultCollectionClass");if(objectClass){methods[sap.galilei.core.internal.PROPERTY_OBJECT_CLASS]=objectClass}if(comparator&&(typeof comparator)==="function"){methods[sap.galilei.core.internal.PROPERTY_SORT_COMPARATOR]=comparator}if(!methods.hasOwnProperty("get")){methods.get=function(index){if(index>=0&&index<this.length){return this[index]}return undefined}}if(!methods.hasOwnProperty("push")){if(!bIsBaseCollection&&_super&&_super.prototype&&_super.prototype.push){methods.__fnPush=_super.prototype.push}methods.push=function(){if(arguments&&arguments.length>0){var i,object,aObjects=[],oObjectClass=this[sap.galilei.core.internal.PROPERTY_OBJECT_CLASS],sClassName,bHasObjectClass;if(typeof oObjectClass==="string"){sClassName=oObjectClass;if(sClassName==="undefined"){sClassName=undefined}}else{sClassName=sap.galilei.core.getClassName(oObjectClass)}bHasObjectClass=(sClassName!=undefined);if(bHasObjectClass&&this.validate){for(i=0;i<arguments.length;++i){object=arguments[i];if(this.validate(object)){aObjects.push(object)}}}if(!bHasObjectClass||aObjects.length===arguments.length){this.__fnPush.apply(this,arguments)}else{for(i=0;i<aObjects.length;++i){this.__fnPush(aObjects[i])}}}return this}}if(!methods.hasOwnProperty("splice")){if(!bIsBaseCollection&&_super&&_super.prototype&&_super.prototype.splice){methods.__fnSplice=_super.prototype.splice}methods.splice=function(index,removed){if(arguments){if(arguments.length<=2){this.__fnSplice.apply(this,arguments)}else{var i,object,aObjects=[],oObjectClass=this[sap.galilei.core.internal.PROPERTY_OBJECT_CLASS],sClassName,bHasObjectClass;if(typeof oObjectClass==="string"){sClassName=oObjectClass;if(sClassName==="undefined"){sClassName=undefined}}else{sClassName=sap.galilei.core.getClassName(oObjectClass)}bHasObjectClass=(sClassName!=undefined);if(bHasObjectClass&&this.validate){if(removed>0){this.__fnSplice(index,removed)}for(i=2;i<arguments.length;++i){object=arguments[i];if(this.validate(object)){aObjects.push(object)}}}if(!bHasObjectClass){this.__fnSplice.apply(this,arguments)}else{for(i=0;i<aObjects.length;++i){this.__fnSplice(index++,0,aObjects[i])}}}}return this}}if(!bIsBaseCollection){if(!methods.hasOwnProperty("add")){methods.add=function(){if(arguments&&arguments.length>0){this.push.apply(this,arguments)}return this}}if(!methods.hasOwnProperty("addArray")){methods.addArray=function(aObjects){if(aObjects&&aObjects.length>0){var i;for(i=0;i<aObjects.length;++i){this.push(aObjects[i])}}return this}}if(!methods.hasOwnProperty("insert")){methods.insert=function(index){if(arguments&&arguments.length>1){var i;for(i=1;i<arguments.length;++i,++index){if(index===-1||index==this.length){this.push(arguments[i])}else{this.splice(index,0,arguments[i])}}}return this}}if(!methods.hasOwnProperty("insertArray")){methods.insertArray=function(index,aObjects){if(aObjects&&aObjects.length>0){if(index===-1||index==this.length){this.addArray(aObjects)}else{var i;for(i=0;i<aObjects.length;++i,++index){this.splice(index,0,aObjects[i])}}}return this}}if(!methods.hasOwnProperty("contains")){methods.contains=function(object){return this.indexOf(object)!==-1}}if(!methods.hasOwnProperty("validate")){methods.validate=function(object){var oObjectClass=this[sap.galilei.core.internal.PROPERTY_OBJECT_CLASS],sClassName;if(oObjectClass){if(typeof oObjectClass==="string"){sClassName=oObjectClass;if(sClassName==="undefined"){sClassName=undefined}}else{sClassName=sap.galilei.core.getClassName(oObjectClass)}if(sClassName){if(object){if(!sap.galilei.core.isInstanceOf(object,sClassName)){throw object+" is not an instance of "+sClassName+"."}else{if(this.contains(object)){throw object+" already exists in the collection."}}}else{if(oObjectClass){throw"undefined is not an instance of "+sClassName+"."}}}}return true}}if(!methods.hasOwnProperty("move")){methods.move=function(from,to){if(from>=0&&from<this.length&&((to>=0&&to<this.length)||to===-1)){var object=this[from];this.removeAt(from);if(to===-1||to===this.length-1){this.push(object)}else{this.insert(to,object)}}return this}}if(!methods.hasOwnProperty("moveTo")){methods.moveTo=function(object,to){var from=this.indexOf(object);if(from!==-1){this.move(from,to)}return this}}if(!methods.hasOwnProperty("reset")){methods.reset=function(){this.clear();if(arguments&&arguments.length>0){this.push.apply(this,arguments)}}}if(!methods.hasOwnProperty("resetArray")){methods.resetArray=function(aObjects){this.clear();if(aObjects&&aObjects.length>0){this.addArray(aObjects)}return this}}if(!methods.hasOwnProperty("removeAt")){methods.removeAt=function(index,count){if(!count){count=1}this.splice(index,count);return this}}if(!methods.hasOwnProperty("remove")){methods.remove=function(){return this.removeArray(arguments)}}if(!methods.hasOwnProperty("removeArray")){methods.removeArray=function(aObjects){if(aObjects&&aObjects.length>0){var i,index;for(i=0;i<aObjects.length;++i){index=this.indexOf(aObjects[i]);if(index!=-1){this.removeAt(index)}}}return this}}if(!methods.hasOwnProperty("clear")){methods.clear=function(){this.splice(0,this.length);return this}}if(!methods.hasOwnProperty("clone")){methods.clone=function(collection){try{if(collection&&collection.length>0){this.resetArray(collection)}}catch(e){}return this}}if(!methods.hasOwnProperty("sort")){if(_super&&_super.prototype&&_super.prototype.sort){methods.__fnSort=_super.prototype.sort}methods.sort=function(fnComparator){if(!fnComparator){fnComparator=this.constructor.prototype[sap.galilei.core.internal.PROPERTY_SORT_COMPARATOR]}if(this.__fnSort&&fnComparator&&(typeof fnComparator)==="function"){return this.__fnSort(fnComparator)}return this}}}if(!sap.galilei.core.hasObjects(fields)){fields=undefined}if(!sap.galilei.core.hasObjects(properties)){properties=undefined}if(!sap.galilei.core.hasObjects(methods)){methods=undefined}if(!sap.galilei.core.hasObjects(statics)){statics=undefined}oCollClassDef.parent=_super;oCollClassDef.fullClassName=fullClassName;if(fields){oCollClassDef.fields=fields}if(properties){oCollClassDef.properties=properties}if(methods){oCollClassDef.methods=methods}if(statics){oCollClassDef.statics=statics}return oCollClassDef},transformCollectionProperties:function transformCollectionProperties(oExtension,oCollProps){oExtension=oExtension||{};if(oCollProps){var sProperty,sCollPropName,oColl,sCollClass,oObjectClass,sObjectClass,sFieldName,bEnumerable,bWritable,bConfigurable,sInitValue,getterFunc,setterFunc,oProp,sFunc;for(sProperty in oCollProps){oColl=oCollProps[sProperty];if(oColl!==undefined){sCollPropName=sap.galilei.core.validateMemberName(sProperty);if(oColl.type===sap.galilei.core.EnumPropertyType.collection){sCollClass=oColl.collectionClass;oObjectClass=oColl.objectClass;if(typeof oObjectClass==="string"){sObjectClass=oObjectClass}else{sObjectClass=sap.galilei.core.getClassName(oObjectClass)}sFieldName=oColl.field;if(!sFieldName){sFieldName=sap.galilei.core.getFieldNameOfProperty(sCollPropName)}bEnumerable=oColl.enumerable;if(bEnumerable===undefined){bEnumerable=true}bWritable=oColl.writable;if(bWritable===undefined){bWritable=true}bConfigurable=oColl.configurable===false?false:true;if(bConfigurable===undefined){bConfigurable=false}if(sFieldName&&sFieldName.length>0&&!oExtension.hasOwnProperty(sFieldName)){oProp={};oProp[sFieldName]=undefined;this.transformFieldProperties(oExtension,oProp)}if(sCollClass&&sCollClass.length>0){sInitValue="this."+sFieldName+" = new "+sCollClass+"();"}else{sInitValue='var oCollDef = sap.galilei.core.CollectionLookup.get("'+sObjectClass+'"); this.'+sFieldName+" = new oCollDef(); "}sFunc="getterFunc = function () { if (this."+sFieldName+" === undefined) { "+sInitValue+"} return this."+sFieldName+"; };";if(bWritable){sFunc+="setterFunc = function (value) { try { if (this."+sFieldName+" !== value) { this."+sFieldName+" = value; } } catch(e) { }; };"}try{eval(sFunc)}catch(e){throw"The collection property "+sCollPropName+" has generated invalid getter or setter function. Please verify the property name and the collection parameters."}if(getterFunc){oProp={get:getterFunc,enumerable:bEnumerable,configurable:bConfigurable};if(bWritable&&setterFunc){oProp.set=setterFunc}oExtension[sCollPropName]=oProp}getterFunc=setterFunc=undefined}}}}},transformEnumProperties:function(oExtension,oEnumProps){oExtension=oExtension||{};if(oEnumProps){var sProperty,sEnum,oEnum,iMask,fieldNames={},sFieldName,fieldValue,bEnumerable,bWritable,bConfigurable,sFunc,getterFunc,setterFunc,oProp;for(sProperty in oEnumProps){oEnum=oEnumProps[sProperty];sEnum=sap.galilei.core.validateMemberName(sProperty);if(oEnum){if(oEnum.type===sap.galilei.core.EnumPropertyType.bitwiseEnum){if(oEnum.field&&oEnum.mask){sFieldName=oEnum.field;if(oExtension.hasOwnProperty(sFieldName)){fieldValue=oExtension[sFieldName]}else{if(fieldNames.hasOwnProperty(sFieldName)){fieldValue=fieldNames[sFieldName]}else{fieldValue=fieldNames[sFieldName]=0}}bEnumerable=oEnum.enumerable;bWritable=oEnum.writable;bConfigurable=oEnum.configurable===false?false:true;if(bEnumerable===undefined){bEnumerable=true}if(bWritable===undefined){bWritable=true}if(bConfigurable===undefined){bConfigurable=false}if(oEnum.value!=undefined){oEnum.value=+oEnum.value;fieldValue|=oEnum.value;fieldNames[sFieldName]=fieldValue}iMask=+oEnum.mask;sFunc="getterFunc = function () { return (this."+sFieldName+" & "+iMask+") == "+iMask+"; };";if(bWritable){sFunc+="setterFunc = function (value) { var oldValue = this."+sEnum+"; if (oldValue !== value) { if (value === true) { this."+sFieldName+" |= "+iMask+"; } else { this."+sFieldName+" &= ~"+iMask+'; } if (this["onchange_'+sEnum+'"]) {     this.onchange_'+sEnum+'(value, oldValue); } else if (this.onchange) {     this.onchange("'+sEnum+'", value, oldValue); } } };'}try{eval(sFunc)}catch(e){throw"The bitwise enum property "+sEnum+" has generated invalid getter or setter function. Please verify the property name and the mask value."}if(getterFunc){oProp={get:getterFunc,enumerable:bEnumerable,configurable:bConfigurable};if(bWritable&&setterFunc){oProp.set=setterFunc}oExtension[sEnum]=oProp}getterFunc=setterFunc=undefined}else{throw"Enum property "+sProperty+" must have a field and a mask defined."}}}}oProp={};for(sFieldName in fieldNames){oProp[sFieldName]=fieldNames[sFieldName]}this.transformFieldProperties(oExtension,oProp)}return oExtension}}}());
(function(){sap.galilei.core.defineLookupClass=function(sFullClassName,fnComputeKey,fnNewCreateInstance){var oLookupDef={initialize:function(options){if(options){this.set(options)}},fields:{__lookupMap:undefined},properties:{lookupMap:{get:function(){if(!this.__lookupMap){this.__lookupMap={}}return this.__lookupMap}},length:function(){if(!this.__lookupMap){return 0}return sap.galilei.core.getObjectSize(this.lookupMap)}},methods:{computeKey:function(key){return key},createNewInstance:function(key){return undefined},get:function(key){var keyValue=this.computeKey(key),object;if(keyValue!==undefined){object=this.lookupMap[keyValue];if(object===undefined&&this.createNewInstance&&(typeof this.createNewInstance)==="function"){object=this.createNewInstance.apply(this,arguments);if(object!==undefined){this.add(key,object)}}}return object},item:function(index){if(this.__lookupMap){if(index>=0&&index<this.length){var aKeys=Object.keys(this.lookupMap),key=aKeys[index];return{key:key,value:this.lookupMap[key]}}}return undefined},add:function(key,object){var keyValue=this.computeKey(key);if(keyValue!==undefined){this.lookupMap[keyValue]=object}},contains:function(key){if(this.__lookupMap){var keyValue=this.computeKey(key);if(keyValue!==undefined){return this.lookupMap.hasOwnProperty(keyValue)}}return false},remove:function(key){if(this.__lookupMap){var keyValue=this.computeKey(key);if(keyValue!==undefined){delete this.lookupMap[keyValue];if(this.length===0){this.clear()}}}},clear:function(){this.__lookupMap=undefined}}};if(sFullClassName){oLookupDef.fullClassName=sFullClassName}if(fnComputeKey){oLookupDef.methods.computeKey=fnComputeKey}if(fnNewCreateInstance){oLookupDef.methods.createNewInstance=fnNewCreateInstance}oLookupDef=sap.galilei.core.ClassDefinitionBuilder.transformClassDef(oLookupDef);return sap.galilei.core.internal.defineClass(oLookupDef)};sap.galilei.core.DefaultLookupClass=sap.galilei.core.defineLookupClass("sap.galilei.core.DefaultLookupClass")}());
(function(){sap.galilei.core.internal.PROPERTY_OBJECT_CLASS="__objectClass__";sap.galilei.core.internal.PROPERTY_SORT_COMPARATOR="__sortComparator__";sap.galilei.core.defineCollectionClass=function(oCollectionDef){oCollectionDef=sap.galilei.core.ClassDefinitionBuilder.transformCollectionDef(oCollectionDef);oCollectionDef=sap.galilei.core.ClassDefinitionBuilder.transformClassDef(oCollectionDef);return sap.galilei.core.internal.defineClass(oCollectionDef)};sap.galilei.core.DefaultCollectionClass=sap.galilei.core.defineCollectionClass({parent:Array,fullClassName:"sap.galilei.core.DefaultCollectionClass"});sap.galilei.core.CollectionLookupClass=sap.galilei.core.defineLookupClass("sap.galilei.core.CollectionLookupClass",function(key){if(key){if(typeof key==="string"){return key}return sap.galilei.core.getClassName(key)}return key},function(key){if(key){return sap.galilei.core.defineCollectionClass({objectClass:key})}return undefined});sap.galilei.core.CollectionLookup=new sap.galilei.core.CollectionLookupClass()}());
(function(){sap.galilei.core.defineClass=function(oClassDef){var oClass;oClassDef=oClassDef||{};oClassDef=sap.galilei.core.ClassDefinitionBuilder.transformClassDef(oClassDef);oClass=sap.galilei.core.internal.defineClass(oClassDef);if(oClassDef.fullClassName&&oClass&&sap.galilei.core.ClassRegistry){sap.galilei.core.ClassRegistry.add(oClassDef.fullClassName,oClass)}return oClass};sap.galilei.core.getFieldNameOfProperty=function(sPropName){var sFieldName=sPropName;if(sPropName&&sPropName.length>0){sFieldName=sap.galilei.core.internal.FIELDNAME_PREFIX+sPropName}return sFieldName};sap.galilei.core.getClass=function(sClassName){if(sClassName&&sap.galilei.core.ClassRegistry){return sap.galilei.core.ClassRegistry.get(sClassName)}return undefined};sap.galilei.core.createNewInstance=function(sClassName,oParams){var OClass;if(sClassName){OClass=sap.galilei.core.getClass(sClassName);if(OClass){return new OClass(oParams)}}return undefined};sap.galilei.core.ClassRegistry=new sap.galilei.core.DefaultLookupClass();sap.galilei.core.DefaultClass=sap.galilei.core.defineClass({parent:Object,fullClassName:"sap.galilei.core.DefaultClass",initialize:function(oParam){if(oParam){this.set(oParam)}}})}());
(function(){sap.galilei.core.Event=sap.galilei.core.defineClass({fullClassName:"sap.galilei.core.Event",statics:{subscribers:{},isDisableEvents:false,subscribe:function(sEvent,fnCallback,oScope,oTarget,bAllowMultipleHandlers){if(sEvent&&fnCallback){var aArguments=Array.prototype.slice.call(arguments,5),aEventSubscribers=sap.galilei.core.Event.subscribers[sEvent],oSubscriber={scope:oScope,target:oTarget,callback:fnCallback,"arguments":aArguments},oExistingSubscriber;if(aEventSubscribers){oExistingSubscriber=sap.galilei.core.Event.findEventSubscriber(aEventSubscribers,fnCallback,oScope,oTarget,bAllowMultipleHandlers);if(oExistingSubscriber){oExistingSubscriber["arguments"]=aArguments}else{aEventSubscribers.push(oSubscriber)}}else{sap.galilei.core.Event.subscribers[sEvent]=[oSubscriber]}}},unSubscribeCallback:function(sEvent,fnCallback){if(sEvent){var aEventSubscribers=sap.galilei.core.Event.subscribers[sEvent],oSubscriber,nIndex,min;if(aEventSubscribers){if(fnCallback){for(nIndex=aEventSubscribers.length-1,min=0;nIndex>=min;nIndex--){oSubscriber=aEventSubscribers[nIndex];if(oSubscriber.callback==fnCallback){aEventSubscribers.splice(nIndex,1)}}}if(!fnCallback||(aEventSubscribers&&aEventSubscribers.length===0)){delete sap.galilei.core.Event.subscribers[sEvent]}else{sap.galilei.core.Event.subscribers[sEvent]=aEventSubscribers}}}},unSubscribeScope:function(sEvent,oScope){if(sEvent){var aEventSubscribers=sap.galilei.core.Event.subscribers[sEvent],oSubscriber,nIndex,min;if(aEventSubscribers){if(oScope){for(nIndex=aEventSubscribers.length-1,min=0;nIndex>=min;nIndex--){oSubscriber=aEventSubscribers[nIndex];if(oSubscriber.scope===oScope){aEventSubscribers.splice(nIndex,1)}}}if(!oScope||(aEventSubscribers&&aEventSubscribers.length===0)){delete sap.galilei.core.Event.subscribers[sEvent]}else{sap.galilei.core.Event.subscribers[sEvent]=aEventSubscribers}}}},unSubscribeAllScope:function(oScope){if(oScope){var oSubscribers={},sEvent;for(sEvent in sap.galilei.core.Event.subscribers){oSubscribers[sEvent]=undefined}for(sEvent in oSubscribers){this.unSubscribeScope(sEvent,oScope)}}},unSubscribeTarget:function(sEvent,oTarget){if(sEvent){var aEventSubscribers=sap.galilei.core.Event.subscribers[sEvent],oSubscriber,nIndex,min;if(aEventSubscribers){if(oTarget){for(nIndex=aEventSubscribers.length-1,min=0;nIndex>=min;nIndex--){oSubscriber=aEventSubscribers[nIndex];if(oSubscriber.target===oTarget){aEventSubscribers.splice(nIndex,1)}}}if(!oTarget||(aEventSubscribers&&aEventSubscribers.length===0)){delete sap.galilei.core.Event.subscribers[sEvent]}else{sap.galilei.core.Event.subscribers[sEvent]=aEventSubscribers}}}},unSubscribeAllTarget:function(oTarget){if(oTarget){var oSubscribers={},sEvent;for(sEvent in sap.galilei.core.Event.subscribers){oSubscribers[sEvent]=undefined}for(sEvent in oSubscribers){this.unSubscribeTarget(sEvent,oTarget)}}},getEventSubscribers:function(sEvent){if(sEvent){return sap.galilei.core.Event.subscribers[sEvent]}return undefined},findEventSubscriber:function(aEventSubscribers,fnCallback,oScope,oTarget,bAllowMultipleHandlers){if(aEventSubscribers&&fnCallback){var oSubscriber,nIndex;bAllowMultipleHandlers=(bAllowMultipleHandlers===undefined)?true:bAllowMultipleHandlers;for(nIndex=0;nIndex<aEventSubscribers.length;nIndex++){oSubscriber=aEventSubscribers[nIndex];if(bAllowMultipleHandlers){if(oSubscriber.callback===fnCallback&&(!oScope||oSubscriber.scope===oScope)&&(!oTarget||oSubscriber.target===oTarget)){return oSubscriber}}else{if((!oScope||oSubscriber.scope===oScope)&&(!oTarget||oSubscriber.target===oTarget)){return oSubscriber}}}}return undefined},publish:function(sEvent,oSource,oTarget,oParams){if(sEvent&&!sap.galilei.core.Event.isDisableEvents){var aEventSubscribers=sap.galilei.core.Event.subscribers[sEvent],aEventSubscribersClone=[],oEvent={type:sEvent,source:oSource,target:oTarget},aArguments=[oEvent],oSubscriber,aCurrentArguments,nIndex,max,bStopPropagation;if(oParams){sap.galilei.core.copyProperties(oEvent,oParams)}if(aEventSubscribers){max=aEventSubscribers.length;for(nIndex=0;nIndex<max;nIndex++){aEventSubscribersClone.push(aEventSubscribers[nIndex])}for(nIndex=0;nIndex<max;nIndex++){oSubscriber=aEventSubscribersClone[nIndex];if(oSubscriber&&oSubscriber.callback&&(!oTarget||oSubscriber.target===oTarget)){aCurrentArguments=aArguments.concat(oSubscriber["arguments"]);bStopPropagation=oSubscriber.callback.apply(oSubscriber.scope,aCurrentArguments);if(bStopPropagation){break}}}}if(oParams&&oParams.hasOwnProperty("cancel")){oParams.cancel=oEvent.cancel}}},publishAsync:function(sEvent,oSource,oTarget,oParams){var self=this;if(sEvent&&!sap.galilei.core.Event.isDisableEvents){setTimeout(function(){self.publish(sEvent,oSource,oTarget,oParams)},0)}},enableEvents:function(){sap.galilei.core.Event.isDisableEvents=false},disableEvents:function(){sap.galilei.core.Event.isDisableEvents=true}}})}());
(function(){sap.galilei.core.antiCSRF={beforeSendAddToken:function(jqXHR,settings){if(jqXHR!==undefined){var sToken=sap.galilei.core.antiCSRF.getToken();if(sToken){jqXHR.setRequestHeader("X-CSRFToken",sToken)}}return true},getToken:function(){if(typeof(localStorage)!=="undefined"){return localStorage.getItem("X-CSRFToken")}else{return this._xCSRFToken}},onSuccessUpdateToken:function(data,textStatus,jqXHR){sap.galilei.core.antiCSRF.updateTokenFromXHR(jqXHR)},updateTokenFromXHR:function(jqXHR){if(jqXHR!==undefined){var sToken=jqXHR.getResponseHeader("X-CSRFToken");if(sToken){if(typeof(localStorage)!=="undefined"){localStorage.setItem("X-CSRFToken",sToken)}else{this._xCSRFToken=sToken}}}}};var fnReadFullData=function(nTime,sUrl,bIsAsync,fullDataRead,vResultData){var nTimeBefore;if(fullDataRead===undefined){vResultData=[];fullDataRead=jQuery.Deferred()}if(httpMonitoring.isActive===true&&nTime==undefined){nTimeBefore=new Date().getTime();nTime=nTimeBefore}jQuery.ajax({type:"GET",url:sUrl,async:bIsAsync===undefined?true:bIsAsync,cache:false,beforeSend:sap.galilei.core.http.ajaxBeforeSend,success:sap.galilei.core.http.ajaxSuccess,headers:{Accept:"application/json; charset=utf-8","Content-Type":"application/json; charset=utf-8"},dataType:"json"}).done(function(vData,textStatus,XMLHttpRequest){vResultData=(vData&&vData.d&&vData.d.results)?(vResultData||[]).concat(vData.d.results):(vData&&vData.d);if(vData&&vData.d&&vData.d.__next){fnReadFullData(nTime,sUrl,bIsAsync,fullDataRead,vResultData)}else{if(httpMonitoring.isActive===true){httpMonitoring.collectCounters(nTimeBefore,undefined,sUrl,XMLHttpRequest)}fullDataRead.resolve(vResultData,textStatus,XMLHttpRequest)}}).fail(function(XMLHttpRequest,textStatus,errorThrown){if(httpMonitoring.isActive===true){httpMonitoring.collectCounters(nTimeBefore,undefined,sUrl,XMLHttpRequest)}fullDataRead.resolve({XMLHttpRequest:XMLHttpRequest,textStatus:textStatus,errorThrown:errorThrown})});return fullDataRead},httpMonitoring={isActive:false,debugIsActive:false,listenerId:0,listeners:{},collectCounters:function(nTimeBefore,oData,sUrl,XMLHttpRequest){var nTimeAfter=new Date().getTime(),nElapsedTime,nParameterSize=0,nQuerySize=0,nResponseSize=0,nHeaderLenght=0,aListenersIds,oListener,nId,sQuery,nQueryEnd=0;nElapsedTime=nTimeAfter-nTimeBefore;if(oData&&(typeof(oData)==="string")){nParameterSize=oData.length}if(sUrl&&!isNaN(sUrl.length)){nQuerySize=sUrl.length}if(XMLHttpRequest){nHeaderLenght=parseInt(XMLHttpRequest.getResponseHeader("Content-Length"));if(isNaN(nHeaderLenght)===false){nResponseSize=nHeaderLenght}}aListenersIds=Object.getOwnPropertyNames(httpMonitoring.listeners);for(var i=0;i<aListenersIds.length;i++){nId=aListenersIds[i];oListener=httpMonitoring.listeners[nId];if(oListener&&oListener.onEventFired instanceof Function){oListener.onEventFired("HTTP: Number of Asynchronous Queries",nTimeBefore,1);oListener.onEventFired("HTTP: Total Response's Size (bytes)",nTimeBefore,nResponseSize);oListener.onEventFired("HTTP: Total Size of the query (bytes)",nTimeBefore,nQuerySize);oListener.onEventFired("HTTP: Total Size of parameters (bytes)",nTimeBefore,nParameterSize);oListener.onEventFired("HTTP: Total Server Time (ms)",nTimeBefore,nElapsedTime);if(httpMonitoring.debugIsActive===true&&sUrl&&sUrl.length>0){nQueryEnd=sUrl.indexOf("?");nQueryEnd=(nQueryEnd>0)?nQueryEnd:sUrl.length;sQuery=sUrl.slice(0,nQueryEnd);if(sQuery.length>0){oListener.onEventFired("HTTP: Query",nTimeBefore,sQuery)}else{oListener.onEventFired("HTTP: Query",nTimeBefore,"Query not found")}}}}}};sap.galilei.core.http={forceSynchronous:undefined,forceASynchronous:undefined,asynchronousQueryQueue:[],asynchronousQueryMaxCount:50,asynchronousQueryCount:0,defaultRequestProcessor:{skipPreProcessing:false,skipPostProcessing:false,preProcessingAsync:function(sType,sUrl,oData,fnDone,fnError,fnCancel,bIsAsync,sDataType,oHeaders){var oResult=jQuery.Deferred();oResult.resolve();return oResult},postProcessingAsync:function(oQueryResult,sType,sUrl,oData,fnDone,fnError,fnCancel,bIsAsync,sDataType,oHeaders,textStatus,XMLHttpRequest){var oResult=jQuery.Deferred();if(oQueryResult&&oQueryResult.textStatus=="error"){if(fnError){fnError(oQueryResult.XMLHttpRequest,oQueryResult.textStatus,oQueryResult.errorThrown)}}else{if(fnDone){fnDone(oQueryResult,textStatus,XMLHttpRequest)}}oResult.resolve();return oResult}},getDefaultRequestProcessor:function(){return this.defaultRequestProcessor},defaultAjaxSuccess:undefined,ajaxSuccess:function(oData,textStatus,jqXHR){if(typeof(this.defaultAjaxSuccess)==="function"){this.defaultAjaxSuccess(oData,textStatus,jqXHR)}sap.galilei.core.antiCSRF.onSuccessUpdateToken(oData,textStatus,jqXHR)},defaultAjaxBeforeSend:undefined,ajaxBeforeSend:function(jqXHR,settings){if(typeof(this.defaultAjaxBeforeSend)==="function"){this.defaultAjaxBeforeSend(jqXHR,settings)}sap.galilei.core.antiCSRF.beforeSendAddToken(jqXHR,settings)},request:function(sType,sUrl,oData,fnDone,fnError,fnCancel,bIsAsync,sDataType,oHeaders,oProcessor,sContentType,bRejectOnfail,oWaitingDeferred,bProcessData){var self=this,oPreProcessingDone=jQuery.Deferred(),oQueryPerformed=jQuery.Deferred(),oPostProcessingDone=oWaitingDeferred||jQuery.Deferred(),oActiveProcessor=oProcessor||this.getDefaultRequestProcessor(),oQueryObject,oAjaxQueryParameters,nTimeBefore;bIsAsync=this.forceASynchronous?true:this.forceSynchronous===true?false:bIsAsync;bIsAsync=(bIsAsync===undefined)?true:bIsAsync;bProcessData=(bProcessData===undefined)?true:bProcessData;oHeaders=oHeaders||{Accept:sContentType||"application/json; charset=utf-8","Content-Type":sContentType||"application/json; charset=utf-8"};if(!sDataType){if(oHeaders["Content-Type"]&&oHeaders["Content-Type"].indexOf("application/json")!==-1){sDataType="json"}}if(bIsAsync===true&&this.asynchronousQueryCount>=this.asynchronousQueryMaxCount){this.asynchronousQueryQueue.push({oWaitingDeferred:oPostProcessingDone,sType:sType,sUrl:sUrl,oData:oData,fnDone:fnDone,fnError:fnError,fnCancel:fnCancel,bIsAsync:bIsAsync,sDataType:sDataType,oHeaders:oHeaders,oProcessor:oProcessor,sContentType:sContentType,bRejectOnfail:bRejectOnfail,bProcessData:bProcessData})}else{if(bIsAsync===true){this.asynchronousQueryCount++}if(oActiveProcessor&&oActiveProcessor.skipPreProcessing!==true&&oActiveProcessor.preProcessingAsync){oPreProcessingDone=oActiveProcessor.preProcessingAsync(sType,sUrl,oData,fnDone,fnError,fnCancel,bIsAsync,sDataType,oHeaders)}else{oPreProcessingDone.resolve()}jQuery.when(oPreProcessingDone).done(function(oPreProcessingError){if(oPreProcessingError!==undefined){self._manageWaitingQueries(bIsAsync,oQueryObject);fnError(oPreProcessingError.XMLHttpRequest,oPreProcessingError.textStatus,oPreProcessingError.errorThrown)}else{if(sType==="OData"){oQueryPerformed=fnReadFullData(undefined,sUrl,bIsAsync)}else{oAjaxQueryParameters={type:sType,url:sUrl,async:bIsAsync,data:oData,cache:false,beforeSend:self.ajaxBeforeSend,success:self.ajaxSuccess,headers:oHeaders,dataType:sDataType,contentType:sContentType,processData:bProcessData};if(httpMonitoring.isActive===true){nTimeBefore=new Date().getTime()}jQuery.ajax(oAjaxQueryParameters).done(function(vData,textStatus,XMLHttpRequest){if(httpMonitoring.isActive===true){httpMonitoring.collectCounters(nTimeBefore,oData,sUrl,XMLHttpRequest)}oQueryPerformed.resolve(vData,textStatus,XMLHttpRequest)}).fail(function(XMLHttpRequest,textStatus,errorThrown){if(httpMonitoring.isActive===true){httpMonitoring.collectCounters(nTimeBefore,undefined,sUrl,XMLHttpRequest)}if(bRejectOnfail===true){oQueryPerformed.reject({XMLHttpRequest:XMLHttpRequest,textStatus:textStatus,errorThrown:errorThrown})}else{oQueryPerformed.resolve({XMLHttpRequest:XMLHttpRequest,textStatus:textStatus,errorThrown:errorThrown})}})}}});jQuery.when(oQueryPerformed).done(function(oQueryResult,textStatus,XMLHttpRequest){if(oQueryResult!=undefined&&oQueryResult.XMLHttpRequest){sap.galilei.core.antiCSRF.updateTokenFromXHR(oQueryResult.XMLHttpRequest)}self._manageWaitingQueries(bIsAsync,oQueryObject);if(oActiveProcessor&&oActiveProcessor.skipPostProcessing!==true&&oActiveProcessor.postProcessingAsync){oPostProcessingDone=oActiveProcessor.postProcessingAsync(oQueryResult,sType,sUrl,oData,fnDone,fnError,fnCancel,bIsAsync,sDataType,oHeaders,textStatus,XMLHttpRequest)}else{oPostProcessingDone.resolve()}})}return oPostProcessingDone},_manageWaitingQueries:function(bIsAsync,oQueryObject){if(bIsAsync===true){this.asynchronousQueryCount--;if(this.asynchronousQueryQueue.length>0){oQueryObject=this.asynchronousQueryQueue[0];this.asynchronousQueryQueue.splice(0,1);sap.galilei.core.http.request(oQueryObject.sType,oQueryObject.sUrl,oQueryObject.oData,oQueryObject.fnDone,oQueryObject.fnError,oQueryObject.fnCancel,oQueryObject.bIsAsync,oQueryObject.sDataType,oQueryObject.oHeaders,oQueryObject.oProcessor,oQueryObject.sContentType,oQueryObject.bRejectOnfail,oQueryObject.oWaitingDeferred)}}},escapeODataString:function(param){var sParam=(param instanceof String)?param:String(param);if(param!==undefined&&sParam!==""){return"'"+encodeURIComponent(sParam).replace(/'/gi,"''")+"'"}return"''"},getErrorMessage:function(XMLHttpRequest,textStatus,errorThrown){var oError,sError=textStatus;if(XMLHttpRequest&&textStatus&&errorThrown){if(XMLHttpRequest.responseJSON){oError=XMLHttpRequest.responseJSON}if(oError===undefined&&typeof(XMLHttpRequest.responseText)==="string"){try{oError=JSON.parse(XMLHttpRequest.responseText)}catch(e){}}if(oError){sError=oError.error.message.value}else{if(XMLHttpRequest.responseText){sError=XMLHttpRequest.responseText}else{sError=errorThrown+" ("+textStatus+")"}}}return sError},activateMonitoring:function(){httpMonitoring.isActive=true},deactivateMonitoring:function(){httpMonitoring.isActive=false},activateDebugging:function(){httpMonitoring.debugIsActive=true},deactivateDebugging:function(){httpMonitoring.debugIsActive=false},getMonitoringState:function(){return httpMonitoring.isActive},getDebuggingState:function(){return httpMonitoring.debugIsActive},addListener:function(oListener){var nNewId=httpMonitoring.listenerId++;httpMonitoring.listeners["k"+nNewId]=oListener;oListener._httpMonitoringListenerId="k"+nNewId},removeListener:function(oListener){delete httpMonitoring.listeners[oListener._httpMonitoringListenerId];delete oListener._httpMonitoringListenerId}};jQuery.ajaxTransport("+*",function(options,originalOptions,jqXHR){if(options&&options.type==="GET"&&(options.dataType==="blob"||options.dataType==="arraybuffer")){return{send:function(headers,completeCallback){var xhr=new XMLHttpRequest(),sMethod=options.type,sUrl=options.url,dataType=options.dataType||"text",bAsync=options.async!==undefined?options.async:true,aKeys,index,max,sKey;xhr.addEventListener("load",function(){var response={},statusCode=xhr.status,bSuccess;bSuccess=((""+statusCode).match(/^2\d\d$/)||statusCode===302||statusCode===304);if(bSuccess){response[dataType]=xhr.response}else{response.text=String.fromCharCode.apply(undefined,new Uint8Array([xhr.response]))}completeCallback(xhr.status,xhr.statusText,response,xhr.getAllResponseHeaders())});xhr.open(sMethod,sUrl,bAsync);xhr.responseType=dataType;aKeys=Object.keys(headers);for(index=0,max=aKeys.length;index<max;index++){sKey=aKeys[index];xhr.setRequestHeader(sKey,headers[sKey])}xhr.send()},abort:function(){jqXHR.abort()}}}})}());
(function(){sap.galilei.core.validateEnum=function(oEnum,eValue,eDefault){if(oEnum){var sEnum;for(sEnum in oEnum){if(oEnum.hasOwnProperty(sEnum)){if(eValue===sEnum||eValue===oEnum[sEnum]){return oEnum[sEnum]}}}if(eDefault){return eDefault}if(oEnum.hasOwnProperty("DEFAULT")){return oEnum.DEFAULT}}return eValue};sap.galilei.core.validateNumeric=function(nNumeric,nDefault,isNullable){if((nNumeric===undefined||nNumeric===null)&&!isNullable){nNumeric=nDefault}if(nNumeric!==undefined&&nNumeric!==null){if(typeof nNumeric==="string"){nNumeric=parseFloat(nNumeric);if(isNaN(nNumeric)){if(typeof nDefault==="string"){nNumeric=parseFloat(nDefault);if(isNaN(nNumeric)){nNumeric=undefined}}else{nNumeric=nDefault}}}else{if(typeof nNumeric!=="function"){if(isNaN(nNumeric)){nNumeric=nDefault}}}}return nNumeric}}());
